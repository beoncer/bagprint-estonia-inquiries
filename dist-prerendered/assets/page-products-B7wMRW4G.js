import{j as e,P as t,c as a,u as s,a as r,R as l,b as o,d as n,e as i,f as c,g as d,A as u,h as p,i as m,k as h,l as g,m as x,n as f,S as b,F as v,D as y,C as w,o as j,p as N}from"./ui-core-DIFKu14A.js";import{r as _,a as k,c as S}from"./react-core-CGKACH0y.js";import{u as C,L as R}from"./router-Enmi9DRI.js";import{c as P,C as I,a as E,b as T,s as D,H as A,d as L,S as O,B as M,X as q,O as K,e as H,f as V,g as B,h as F,G as z,T as W,P as U,i as G,j as Q}from"./page-home-CQU8oqVu.js";import{u as X}from"./data-BmXeSXkP.js";var Y=_.forwardRef((a,s)=>e.jsx(t.span,{...a,ref:s,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...a.style}}));Y.displayName="VisuallyHidden";var Z=Y;const J=_.forwardRef(({className:t,type:a,...s},r)=>e.jsx("input",{type:a,className:P("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...s}));function $(e,[t,a]){return Math.min(a,Math.max(t,e))}function ee(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}J.displayName="Input";var te=[" ","Enter","ArrowUp","ArrowDown"],ae=[" ","Enter"],se="Select",[re,le,oe]=i(se),[ne,ie]=o(se,[oe,a]),ce=a(),[de,ue]=ne(se),[pe,me]=ne(se),he=t=>{const{__scopeSelect:a,children:o,open:i,defaultOpen:c,onOpenChange:d,value:u,defaultValue:p,onValueChange:m,dir:h,name:g,autoComplete:x,disabled:f,required:b,form:v}=t,y=ce(a),[w,j]=_.useState(null),[N,k]=_.useState(null),[S,C]=_.useState(!1),R=s(h),[P=!1,I]=r({prop:i,defaultProp:c,onChange:d}),[E,T]=r({prop:u,defaultProp:p,onChange:m}),D=_.useRef(null),A=!w||v||!!w.closest("form"),[L,O]=_.useState(new Set),M=Array.from(L).map(e=>e.props.value).join(";");return e.jsx(l,{...y,children:e.jsxs(de,{required:b,scope:a,trigger:w,onTriggerChange:j,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:n(),value:E,onValueChange:T,open:P,onOpenChange:I,dir:R,triggerPointerDownPosRef:D,disabled:f,children:[e.jsx(re.Provider,{scope:a,children:e.jsx(pe,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(e=>{O(t=>new Set(t).add(e))},[]),onNativeOptionRemove:_.useCallback(e=>{O(t=>{const a=new Set(t);return a.delete(e),a})},[]),children:o})}),A?e.jsxs(et,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:x,value:E,onChange:e=>T(e.target.value),disabled:f,form:v,children:[void 0===E?e.jsx("option",{value:""}):null,Array.from(L)]},M):null]})})};he.displayName=se;var ge="SelectTrigger",xe=_.forwardRef((a,s)=>{const{__scopeSelect:r,disabled:l=!1,...o}=a,n=ce(r),i=ue(ge,r),d=i.disabled||l,m=c(s,i.onTriggerChange),h=le(r),g=_.useRef("touch"),[x,f,b]=tt(e=>{const t=h().filter(e=>!e.disabled),a=t.find(e=>e.value===i.value),s=at(t,e,a);void 0!==s&&i.onValueChange(s.value)}),v=e=>{d||(i.onOpenChange(!0),b()),e&&(i.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return e.jsx(u,{asChild:!0,...n,children:e.jsx(t.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":$e(i.value)?"":void 0,...o,ref:m,onClick:p(o.onClick,e=>{e.currentTarget.focus(),"mouse"!==g.current&&v(e)}),onPointerDown:p(o.onPointerDown,e=>{g.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(v(e),e.preventDefault())}),onKeyDown:p(o.onKeyDown,e=>{const t=""!==x.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||te.includes(e.key)&&(v(),e.preventDefault())})})})});xe.displayName=ge;var fe="SelectValue",be=_.forwardRef((a,s)=>{const{__scopeSelect:r,className:l,style:o,children:n,placeholder:i="",...u}=a,p=ue(fe,r),{onValueNodeHasChildrenChange:m}=p,h=void 0!==n,g=c(s,p.onValueNodeChange);return d(()=>{m(h)},[m,h]),e.jsx(t.span,{...u,ref:g,style:{pointerEvents:"none"},children:$e(p.value)?e.jsx(e.Fragment,{children:i}):n})});be.displayName=fe;var ve=_.forwardRef((a,s)=>{const{__scopeSelect:r,children:l,...o}=a;return e.jsx(t.span,{"aria-hidden":!0,...o,ref:s,children:l||"▼"})});ve.displayName="SelectIcon";var ye=t=>e.jsx(m,{asChild:!0,...t});ye.displayName="SelectPortal";var we="SelectContent",je=_.forwardRef((t,a)=>{const s=ue(we,t.__scopeSelect),[r,l]=_.useState();if(d(()=>{l(new DocumentFragment)},[]),!s.open){const a=r;return a?k.createPortal(e.jsx(_e,{scope:t.__scopeSelect,children:e.jsx(re.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),a):null}return e.jsx(Se,{...t,ref:a})});je.displayName=we;var Ne=10,[_e,ke]=ne(we),Se=_.forwardRef((t,a)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:l,onEscapeKeyDown:o,onPointerDownOutside:n,side:i,sideOffset:d,align:u,alignOffset:m,arrowPadding:h,collisionBoundary:w,collisionPadding:j,sticky:N,hideWhenDetached:k,avoidCollisions:S,...C}=t,R=ue(we,s),[P,I]=_.useState(null),[E,T]=_.useState(null),D=c(a,e=>I(e)),[A,L]=_.useState(null),[O,M]=_.useState(null),q=le(s),[K,H]=_.useState(!1),V=_.useRef(!1);_.useEffect(()=>{if(P)return g(P)},[P]),x();const B=_.useCallback(e=>{const[t,...a]=q().map(e=>e.ref.current),[s]=a.slice(-1),r=document.activeElement;for(const l of e){if(l===r)return;if(l?.scrollIntoView({block:"nearest"}),l===t&&E&&(E.scrollTop=0),l===s&&E&&(E.scrollTop=E.scrollHeight),l?.focus(),document.activeElement!==r)return}},[q,E]),F=_.useCallback(()=>B([A,P]),[B,A,P]);_.useEffect(()=>{K&&F()},[K,F]);const{onOpenChange:z,triggerPointerDownPosRef:W}=R;_.useEffect(()=>{if(P){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(W.current?.y??0))}},a=a=>{e.x>10||e.y>10?P.contains(a.target)||z(!1):a.preventDefault(),document.removeEventListener("pointermove",t),W.current=null};return null!==W.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",a,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",a,{capture:!0})}}},[P,z,W]),_.useEffect(()=>{const e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[z]);const[U,G]=tt(e=>{const t=q().filter(e=>!e.disabled),a=t.find(e=>e.ref.current===document.activeElement),s=at(t,e,a);s&&setTimeout(()=>s.ref.current.focus())}),Q=_.useCallback((e,t,a)=>{const s=!V.current&&!a;(void 0!==R.value&&R.value===t||s)&&(L(e),s&&(V.current=!0))},[R.value]),X=_.useCallback(()=>P?.focus(),[P]),Y=_.useCallback((e,t,a)=>{const s=!V.current&&!a;(void 0!==R.value&&R.value===t||s)&&M(e)},[R.value]),Z="popper"===r?Re:Ce,J=Z===Re?{side:i,sideOffset:d,align:u,alignOffset:m,arrowPadding:h,collisionBoundary:w,collisionPadding:j,sticky:N,hideWhenDetached:k,avoidCollisions:S}:{};return e.jsx(_e,{scope:s,content:P,viewport:E,onViewportChange:T,itemRefCallback:Q,selectedItem:A,onItemLeave:X,itemTextRefCallback:Y,focusSelectedItem:F,selectedItemText:O,position:r,isPositioned:K,searchRef:U,children:e.jsx(f,{as:b,allowPinchZoom:!0,children:e.jsx(v,{asChild:!0,trapped:R.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:p(l,e=>{R.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:e.jsx(y,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:n,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:e.jsx(Z,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:e=>e.preventDefault(),...C,...J,onPlaced:()=>H(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:p(C.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||G(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=q().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const a=e.target,s=t.indexOf(a);t=t.slice(s+1)}setTimeout(()=>B(t)),e.preventDefault()}})})})})})})});Se.displayName="SelectContentImpl";var Ce=_.forwardRef((a,s)=>{const{__scopeSelect:r,onPlaced:l,...o}=a,n=ue(we,r),i=ke(we,r),[u,p]=_.useState(null),[m,h]=_.useState(null),g=c(s,e=>h(e)),x=le(r),f=_.useRef(!1),b=_.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:w,focusSelectedItem:j}=i,N=_.useCallback(()=>{if(n.trigger&&n.valueNode&&u&&m&&v&&y&&w){const e=n.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),a=n.valueNode.getBoundingClientRect(),s=w.getBoundingClientRect();if("rtl"!==n.dir){const r=s.left-t.left,l=a.left-r,o=e.left-l,n=e.width+o,i=Math.max(n,t.width),c=window.innerWidth-Ne,d=$(l,[Ne,Math.max(Ne,c-i)]);u.style.minWidth=n+"px",u.style.left=d+"px"}else{const r=t.right-s.right,l=window.innerWidth-a.right-r,o=window.innerWidth-e.right-l,n=e.width+o,i=Math.max(n,t.width),c=window.innerWidth-Ne,d=$(l,[Ne,Math.max(Ne,c-i)]);u.style.minWidth=n+"px",u.style.right=d+"px"}const r=x(),o=window.innerHeight-2*Ne,i=v.scrollHeight,c=window.getComputedStyle(m),d=parseInt(c.borderTopWidth,10),p=parseInt(c.paddingTop,10),h=parseInt(c.borderBottomWidth,10),g=d+p+i+parseInt(c.paddingBottom,10)+h,b=Math.min(5*y.offsetHeight,g),j=window.getComputedStyle(v),N=parseInt(j.paddingTop,10),_=parseInt(j.paddingBottom,10),k=e.top+e.height/2-Ne,S=o-k,C=y.offsetHeight/2,R=d+p+(y.offsetTop+C),P=g-R;if(R>k){const e=r.length>0&&y===r[0].ref.current;u.style.top="0px";const t=Math.max(k,d+v.offsetTop+(e?N:0)+C)+P;u.style.height=t+"px",v.scrollTop=R-k+v.offsetTop}else{const e=r.length>0&&y===r[r.length-1].ref.current;u.style.bottom="0px";const t=m.clientHeight-v.offsetTop-v.offsetHeight,a=R+Math.max(S,C+(e?_:0)+t+h);u.style.height=a+"px"}u.style.margin=Ne+"px 0",u.style.minHeight=b+"px",u.style.maxHeight=o+"px",l?.(),requestAnimationFrame(()=>f.current=!0)}},[x,n.trigger,n.valueNode,u,m,v,y,w,n.dir,l]);d(()=>N(),[N]);const[k,S]=_.useState();d(()=>{m&&S(window.getComputedStyle(m).zIndex)},[m]);const C=_.useCallback(e=>{e&&!0===b.current&&(N(),j?.(),b.current=!1)},[N,j]);return e.jsx(Pe,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:e.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(t.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ce.displayName="SelectItemAlignedPosition";var Re=_.forwardRef((t,a)=>{const{__scopeSelect:s,align:r="start",collisionPadding:l=Ne,...o}=t,n=ce(s);return e.jsx(w,{...n,...o,ref:a,align:r,collisionPadding:l,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Re.displayName="SelectPopperPosition";var[Pe,Ie]=ne(we,{}),Ee="SelectViewport",Te=_.forwardRef((a,s)=>{const{__scopeSelect:r,nonce:l,...o}=a,n=ke(Ee,r),i=Ie(Ee,r),d=c(s,n.onViewportChange),u=_.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(re.Slot,{scope:r,children:e.jsx(t.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:p(o.onScroll,e=>{const t=e.currentTarget,{contentWrapper:a,shouldExpandOnScrollRef:s}=i;if(s?.current&&a){const e=Math.abs(u.current-t.scrollTop);if(e>0){const s=window.innerHeight-2*Ne,r=parseFloat(a.style.minHeight),l=parseFloat(a.style.height),o=Math.max(r,l);if(s>o){const r=o+e,l=Math.min(s,r),n=r-l;a.style.height=l+"px","0px"===a.style.bottom&&(t.scrollTop=n>0?n:0,a.style.justifyContent="flex-end")}}}u.current=t.scrollTop})})})]})});Te.displayName=Ee;var De="SelectGroup",[Ae,Le]=ne(De);_.forwardRef((a,s)=>{const{__scopeSelect:r,...l}=a,o=n();return e.jsx(Ae,{scope:r,id:o,children:e.jsx(t.div,{role:"group","aria-labelledby":o,...l,ref:s})})}).displayName=De;var Oe="SelectLabel",Me=_.forwardRef((a,s)=>{const{__scopeSelect:r,...l}=a,o=Le(Oe,r);return e.jsx(t.div,{id:o.id,...l,ref:s})});Me.displayName=Oe;var qe="SelectItem",[Ke,He]=ne(qe),Ve=_.forwardRef((a,s)=>{const{__scopeSelect:r,value:l,disabled:o=!1,textValue:i,...d}=a,u=ue(qe,r),m=ke(qe,r),h=u.value===l,[g,x]=_.useState(i??""),[f,b]=_.useState(!1),v=c(s,e=>m.itemRefCallback?.(e,l,o)),y=n(),w=_.useRef("touch"),j=()=>{o||(u.onValueChange(l),u.onOpenChange(!1))};if(""===l)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ke,{scope:r,value:l,disabled:o,textId:y,isSelected:h,onItemTextChange:_.useCallback(e=>{x(t=>t||(e?.textContent??"").trim())},[]),children:e.jsx(re.ItemSlot,{scope:r,value:l,disabled:o,textValue:g,children:e.jsx(t.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":h&&f,"data-state":h?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:v,onFocus:p(d.onFocus,()=>b(!0)),onBlur:p(d.onBlur,()=>b(!1)),onClick:p(d.onClick,()=>{"mouse"!==w.current&&j()}),onPointerUp:p(d.onPointerUp,()=>{"mouse"===w.current&&j()}),onPointerDown:p(d.onPointerDown,e=>{w.current=e.pointerType}),onPointerMove:p(d.onPointerMove,e=>{w.current=e.pointerType,o?m.onItemLeave?.():"mouse"===w.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:p(d.onPointerLeave,e=>{e.currentTarget===document.activeElement&&m.onItemLeave?.()}),onKeyDown:p(d.onKeyDown,e=>{""!==m.searchRef?.current&&" "===e.key||(ae.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});Ve.displayName=qe;var Be="SelectItemText",Fe=_.forwardRef((a,s)=>{const{__scopeSelect:r,className:l,style:o,...n}=a,i=ue(Be,r),u=ke(Be,r),p=He(Be,r),m=me(Be,r),[h,g]=_.useState(null),x=c(s,e=>g(e),p.onItemTextChange,e=>u.itemTextRefCallback?.(e,p.value,p.disabled)),f=h?.textContent,b=_.useMemo(()=>e.jsx("option",{value:p.value,disabled:p.disabled,children:f},p.value),[p.disabled,p.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=m;return d(()=>(v(b),()=>y(b)),[v,y,b]),e.jsxs(e.Fragment,{children:[e.jsx(t.span,{id:p.textId,...n,ref:x}),p.isSelected&&i.valueNode&&!i.valueNodeHasChildren?k.createPortal(n.children,i.valueNode):null]})});Fe.displayName=Be;var ze="SelectItemIndicator",We=_.forwardRef((a,s)=>{const{__scopeSelect:r,...l}=a;return He(ze,r).isSelected?e.jsx(t.span,{"aria-hidden":!0,...l,ref:s}):null});We.displayName=ze;var Ue="SelectScrollUpButton",Ge=_.forwardRef((t,a)=>{const s=ke(Ue,t.__scopeSelect),r=Ie(Ue,t.__scopeSelect),[l,o]=_.useState(!1),n=c(a,r.onScrollButtonChange);return d(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?e.jsx(Ye,{...t,ref:n,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});Ge.displayName=Ue;var Qe="SelectScrollDownButton",Xe=_.forwardRef((t,a)=>{const s=ke(Qe,t.__scopeSelect),r=Ie(Qe,t.__scopeSelect),[l,o]=_.useState(!1),n=c(a,r.onScrollButtonChange);return d(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,a=Math.ceil(t.scrollTop)<e;o(a)};const t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),l?e.jsx(Ye,{...t,ref:n,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});Xe.displayName=Qe;var Ye=_.forwardRef((a,s)=>{const{__scopeSelect:r,onAutoScroll:l,...o}=a,n=ke("SelectScrollButton",r),i=_.useRef(null),c=le(r),u=_.useCallback(()=>{null!==i.current&&(window.clearInterval(i.current),i.current=null)},[]);return _.useEffect(()=>()=>u(),[u]),d(()=>{const e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(t.div,{"aria-hidden":!0,...o,ref:s,style:{flexShrink:0,...o.style},onPointerDown:p(o.onPointerDown,()=>{null===i.current&&(i.current=window.setInterval(l,50))}),onPointerMove:p(o.onPointerMove,()=>{n.onItemLeave?.(),null===i.current&&(i.current=window.setInterval(l,50))}),onPointerLeave:p(o.onPointerLeave,()=>{u()})})}),Ze=_.forwardRef((a,s)=>{const{__scopeSelect:r,...l}=a;return e.jsx(t.div,{"aria-hidden":!0,...l,ref:s})});Ze.displayName="SelectSeparator";var Je="SelectArrow";function $e(e){return""===e||void 0===e}_.forwardRef((t,a)=>{const{__scopeSelect:s,...r}=t,l=ce(s),o=ue(Je,s),n=ke(Je,s);return o.open&&"popper"===n.position?e.jsx(j,{...l,...r,ref:a}):null}).displayName=Je;var et=_.forwardRef((t,a)=>{const{value:s,...r}=t,l=_.useRef(null),o=c(a,l),n=ee(s);return _.useEffect(()=>{const e=l.current,t=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(n!==s&&a){const t=new Event("change",{bubbles:!0});a.call(e,s),e.dispatchEvent(t)}},[n,s]),e.jsx(Y,{asChild:!0,children:e.jsx("select",{...r,ref:o,defaultValue:s})})});function tt(e){const t=h(e),a=_.useRef(""),s=_.useRef(0),r=_.useCallback(e=>{const r=a.current+e;t(r),function e(t){a.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout(()=>e(""),1e3))}(r)},[t]),l=_.useCallback(()=>{a.current="",window.clearTimeout(s.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(s.current),[]),[a,r,l]}function at(e,t,a){const s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,r=a?e.indexOf(a):-1;let l=(o=e,n=Math.max(r,0),o.map((e,t)=>o[(n+t)%o.length]));var o,n;1===s.length&&(l=l.filter(e=>e!==a));const i=l.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==a?i:void 0}et.displayName="BubbleSelect";var st=xe,rt=ve,lt=ye,ot=je,nt=Te,it=Me,ct=Ve,dt=Fe,ut=We,pt=Ge,mt=Xe,ht=Ze;const gt=he,xt=be,ft=_.forwardRef(({className:t,children:a,...s},r)=>e.jsxs(st,{ref:r,className:P("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[a,e.jsx(rt,{asChild:!0,children:e.jsx(I,{className:"h-4 w-4 opacity-50"})})]}));ft.displayName=st.displayName;const bt=_.forwardRef(({className:t,...a},s)=>e.jsx(pt,{ref:s,className:P("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(T,{className:"h-4 w-4"})}));bt.displayName=pt.displayName;const vt=_.forwardRef(({className:t,...a},s)=>e.jsx(mt,{ref:s,className:P("flex cursor-default items-center justify-center py-1",t),...a,children:e.jsx(I,{className:"h-4 w-4"})}));vt.displayName=mt.displayName;const yt=_.forwardRef(({className:t,children:a,position:s="popper",...r},l)=>e.jsx(lt,{children:e.jsxs(ot,{ref:l,className:P("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...r,children:[e.jsx(bt,{}),e.jsx(nt,{className:P("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),e.jsx(vt,{})]})}));yt.displayName=ot.displayName,_.forwardRef(({className:t,...a},s)=>e.jsx(it,{ref:s,className:P("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})).displayName=it.displayName;const wt=_.forwardRef(({className:t,children:a,...s},r)=>e.jsxs(ct,{ref:r,className:P("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(ut,{children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx(dt,{children:a})]}));wt.displayName=ct.displayName,_.forwardRef(({className:t,...a},s)=>e.jsx(ht,{ref:s,className:P("-mx-1 my-1 h-px bg-muted",t),...a})).displayName=ht.displayName;var jt="Collapsible",[Nt,_t]=o(jt),[kt,St]=Nt(jt),Ct=_.forwardRef((a,s)=>{const{__scopeCollapsible:l,open:o,defaultOpen:i,disabled:c,onOpenChange:d,...u}=a,[p=!1,m]=r({prop:o,defaultProp:i,onChange:d});return e.jsx(kt,{scope:l,disabled:c,contentId:n(),open:p,onOpenToggle:_.useCallback(()=>m(e=>!e),[m]),children:e.jsx(t.div,{"data-state":Dt(p),"data-disabled":c?"":void 0,...u,ref:s})})});Ct.displayName=jt;var Rt="CollapsibleTrigger",Pt=_.forwardRef((a,s)=>{const{__scopeCollapsible:r,...l}=a,o=St(Rt,r);return e.jsx(t.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Dt(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...l,ref:s,onClick:p(a.onClick,o.onOpenToggle)})});Pt.displayName=Rt;var It="CollapsibleContent",Et=_.forwardRef((t,a)=>{const{forceMount:s,...r}=t,l=St(It,t.__scopeCollapsible);return e.jsx(N,{present:s||l.open,children:({present:t})=>e.jsx(Tt,{...r,ref:a,present:t})})});Et.displayName=It;var Tt=_.forwardRef((a,s)=>{const{__scopeCollapsible:r,present:l,children:o,...n}=a,i=St(It,r),[u,p]=_.useState(l),m=_.useRef(null),h=c(s,m),g=_.useRef(0),x=g.current,f=_.useRef(0),b=f.current,v=i.open||u,y=_.useRef(v),w=_.useRef();return _.useEffect(()=>{const e=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(e)},[]),d(()=>{const e=m.current;if(e){w.current=w.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();g.current=t.height,f.current=t.width,y.current||(e.style.transitionDuration=w.current.transitionDuration,e.style.animationName=w.current.animationName),p(l)}},[i.open,l]),e.jsx(t.div,{"data-state":Dt(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!v,...n,ref:h,style:{"--radix-collapsible-content-height":x?x+"px":void 0,"--radix-collapsible-content-width":b?b+"px":void 0,...a.style},children:v&&o})});function Dt(e){return e?"open":"closed"}var At=Ct,Lt=Pt,Ot=Et,Mt="Accordion",qt=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Kt,Ht,Vt]=i(Mt),[Bt,Ft]=o(Mt,[Vt,_t]),zt=_t(),Wt=S.forwardRef((t,a)=>{const{type:s,...r}=t,l=r,o=r;return e.jsx(Kt.Provider,{scope:t.__scopeAccordion,children:"multiple"===s?e.jsx(Zt,{...o,ref:a}):e.jsx(Yt,{...l,ref:a})})});Wt.displayName=Mt;var[Ut,Gt]=Bt(Mt),[Qt,Xt]=Bt(Mt,{collapsible:!1}),Yt=S.forwardRef((t,a)=>{const{value:s,defaultValue:l,onValueChange:o=()=>{},collapsible:n=!1,...i}=t,[c,d]=r({prop:s,defaultProp:l,onChange:o});return e.jsx(Ut,{scope:t.__scopeAccordion,value:c?[c]:[],onItemOpen:d,onItemClose:S.useCallback(()=>n&&d(""),[n,d]),children:e.jsx(Qt,{scope:t.__scopeAccordion,collapsible:n,children:e.jsx(ea,{...i,ref:a})})})}),Zt=S.forwardRef((t,a)=>{const{value:s,defaultValue:l,onValueChange:o=()=>{},...n}=t,[i=[],c]=r({prop:s,defaultProp:l,onChange:o}),d=S.useCallback(e=>c((t=[])=>[...t,e]),[c]),u=S.useCallback(e=>c((t=[])=>t.filter(t=>t!==e)),[c]);return e.jsx(Ut,{scope:t.__scopeAccordion,value:i,onItemOpen:d,onItemClose:u,children:e.jsx(Qt,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(ea,{...n,ref:a})})})}),[Jt,$t]=Bt(Mt),ea=S.forwardRef((a,r)=>{const{__scopeAccordion:l,disabled:o,dir:n,orientation:i="vertical",...d}=a,u=S.useRef(null),m=c(u,r),h=Ht(l),g="ltr"===s(n),x=p(a.onKeyDown,e=>{if(!qt.includes(e.key))return;const t=e.target,a=h().filter(e=>!e.ref.current?.disabled),s=a.findIndex(e=>e.ref.current===t),r=a.length;if(-1===s)return;e.preventDefault();let l=s;const o=r-1,n=()=>{l=s+1,l>o&&(l=0)},c=()=>{l=s-1,0>l&&(l=o)};switch(e.key){case"Home":l=0;break;case"End":l=o;break;case"ArrowRight":"horizontal"===i&&(g?n():c());break;case"ArrowDown":"vertical"===i&&n();break;case"ArrowLeft":"horizontal"===i&&(g?c():n());break;case"ArrowUp":"vertical"===i&&c()}const d=l%r;a[d].ref.current?.focus()});return e.jsx(Jt,{scope:l,disabled:o,direction:n,orientation:i,children:e.jsx(Kt.Slot,{scope:l,children:e.jsx(t.div,{...d,"data-orientation":i,ref:m,onKeyDown:o?void 0:x})})})}),ta="AccordionItem",[aa,sa]=Bt(ta),ra=S.forwardRef((t,a)=>{const{__scopeAccordion:s,value:r,...l}=t,o=$t(ta,s),i=Gt(ta,s),c=zt(s),d=n(),u=r&&i.value.includes(r)||!1,p=o.disabled||t.disabled;return e.jsx(aa,{scope:s,open:u,disabled:p,triggerId:d,children:e.jsx(At,{"data-orientation":o.orientation,"data-state":ua(u),...c,...l,ref:a,disabled:p,open:u,onOpenChange:e=>{e?i.onItemOpen(r):i.onItemClose(r)}})})});ra.displayName=ta;var la="AccordionHeader",oa=S.forwardRef((a,s)=>{const{__scopeAccordion:r,...l}=a,o=$t(Mt,r),n=sa(la,r);return e.jsx(t.h3,{"data-orientation":o.orientation,"data-state":ua(n.open),"data-disabled":n.disabled?"":void 0,...l,ref:s})});oa.displayName=la;var na="AccordionTrigger",ia=S.forwardRef((t,a)=>{const{__scopeAccordion:s,...r}=t,l=$t(Mt,s),o=sa(na,s),n=Xt(na,s),i=zt(s);return e.jsx(Kt.ItemSlot,{scope:s,children:e.jsx(Lt,{"aria-disabled":o.open&&!n.collapsible||void 0,"data-orientation":l.orientation,id:o.triggerId,...i,...r,ref:a})})});ia.displayName=na;var ca="AccordionContent",da=S.forwardRef((t,a)=>{const{__scopeAccordion:s,...r}=t,l=$t(Mt,s),o=sa(ca,s),n=zt(s);return e.jsx(Ot,{role:"region","aria-labelledby":o.triggerId,"data-orientation":l.orientation,...n,...r,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});function ua(e){return e?"open":"closed"}da.displayName=ca;var pa=ra,ma=oa,ha=ia,ga=da;const xa=Wt,fa=_.forwardRef(({className:t,...a},s)=>e.jsx(pa,{ref:s,className:P("border-b",t),...a}));fa.displayName="AccordionItem";const ba=_.forwardRef(({className:t,children:a,...s},r)=>e.jsx(ma,{className:"flex",children:e.jsxs(ha,{ref:r,className:P("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...s,children:[a,e.jsx(I,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ba.displayName=ha.displayName;const va=_.forwardRef(({className:t,children:a,...s},r)=>e.jsx(ga,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...s,children:e.jsx("div",{className:P("pb-4 pt-0",t),children:a})}));va.displayName=ga.displayName;const ya=({faqs:e,category:t})=>(_.useEffect(()=>{const t=document.querySelector("script[data-faq-structured-data]");if(t&&t.remove(),e&&e.length>0){const t={"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))},a=document.createElement("script");a.type="application/ld+json",a.setAttribute("data-faq-structured-data","true"),a.textContent=JSON.stringify(t),document.head.appendChild(a)}return()=>{const e=document.querySelector("script[data-faq-structured-data]");e&&e.remove()}},[e,t]),null),wa=({items:t,className:a=""})=>{const{context:s,loading:r,categoryDisplayNames:l}=(()=>{const e=C(),[t,a]=_.useState({pageType:"home"}),[s,r]=_.useState(!1),l={"/riidest-kotid":"cotton_bag","/paberkotid":"paper_bag","/nooriga-kotid":"drawstring_bag","/sussikotid":"shoebag"};return _.useEffect(()=>{(async()=>{const t=e.pathname,s=(e=>"/"===e?"home":"/tooted"===e?"products":e.startsWith("/tooted/")&&"/tooted"!==e?"product-detail":"/blogi"===e?"blog":e.startsWith("/blogi/")&&"/blogi"!==e?"blog-post":Object.keys(l).includes(e)?"products":"static")(t);let o={pageType:s};if("products"===s&&l[t]&&(o.categoryId=l[t]),"product-detail"===s){r(!0);const e=t.split("/tooted/")[1];if(e){const t=await(async e=>{try{const{data:t,error:a}=await D.from("products").select("id, name, type, slug").eq("slug",e).single();if(a)throw a;return t}catch(t){return null}})(e);t&&(o.productData=t)}r(!1)}if("blog-post"===s){r(!0);const e=t.split("/blogi/")[1];if(e){const t=await(async e=>{try{const{data:t,error:a}=await D.from("blog_posts").select("id, title, slug").eq("slug",e).single();if(a)throw a;return t}catch(t){return null}})(e);t&&(o.blogPostData=t)}r(!1)}a(o)})()},[e.pathname]),{context:t,loading:s,categoryDisplayNames:{cotton_bag:"Riidest kotid",paper_bag:"Paberkotid",drawstring_bag:"Nööriga kotid",shoebag:"Sussikotid"}}})(),o=_.useMemo(()=>{const e=[];switch(s.pageType){case"home":return[];case"products":e.push({label:"Tooted",href:"/tooted"}),s.categoryId&&l[s.categoryId]&&e.push({label:l[s.categoryId],isCurrentPage:!0});break;case"product-detail":if(e.push({label:"Tooted",href:"/tooted"}),s.productData){const t=l[s.productData.type];if(t){const a=Object.keys(l).find(e=>l[e]===t);if(a){const s=Object.entries({cotton_bag:"/riidest-kotid",paper_bag:"/paberkotid",drawstring_bag:"/nooriga-kotid",shoebag:"/sussikotid"}).find(([e])=>e===a)?.[1];s&&e.push({label:t,href:s})}}e.push({label:s.productData.name,isCurrentPage:!0})}break;case"blog":e.push({label:"Blogi",isCurrentPage:!0});break;case"blog-post":e.push({label:"Blogi",href:"/blogi"}),s.blogPostData&&e.push({label:s.blogPostData.title,isCurrentPage:!0});break;case"static":const t={"/meist":"Meist","/kontakt":"Kontakt","/portfoolio":"Portfoolio"}[window.location.pathname];t&&e.push({label:t,isCurrentPage:!0})}return e},[s,l]),n=t||o;return S.useEffect(()=>{if(0===n.length)return;const e=document.querySelector("script[data-breadcrumb-structured-data]");e&&e.remove();const t={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Avaleht",item:"https://leatex.ee"},...n.map((e,t)=>({"@type":"ListItem",position:t+2,name:e.label,item:e.href?"https://leatex.ee"+e.href:void 0}))]},a=document.createElement("script");return a.type="application/ld+json",a.setAttribute("data-breadcrumb-structured-data","true"),a.textContent=JSON.stringify(t),document.head.appendChild(a),()=>{const e=document.querySelector("script[data-breadcrumb-structured-data]");e&&e.remove()}},[n]),0===n.length||r&&("product-detail"===s.pageType||"blog-post"===s.pageType)?r?e.jsx("nav",{className:"flex items-center space-x-1 text-sm text-gray-600 px-4 "+a,"aria-label":"Breadcrumb",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx(L,{className:"h-4 w-4 text-gray-400"}),e.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded animate-pulse"})]})}):null:e.jsxs("nav",{className:"flex items-center space-x-1 text-sm text-gray-600 px-4 "+a,"aria-label":"Navigatsioon",children:[e.jsx(R,{to:"/",className:"flex items-center hover:text-primary transition-colors","aria-label":"Avaleht",children:e.jsx(A,{className:"h-4 w-4"})}),n.map((t,a)=>e.jsxs(S.Fragment,{children:[e.jsx(L,{className:"h-4 w-4 text-gray-400"}),t.href&&!t.isCurrentPage?e.jsx(R,{to:t.href,className:"hover:text-primary transition-colors",children:t.label}):e.jsx("span",{className:"text-gray-900 font-medium","aria-current":t.isCurrentPage?"page":void 0,children:t.label})]},a))]})},ja=({value:t,onChange:a,onSubmit:s,suggestions:r=[],placeholder:l="Otsi tooteid...",className:o=""})=>{const[n,i]=_.useState(!1),[c,d]=_.useState(-1),u=_.useRef(null),p=_.useRef(null),m=r.filter(e=>e.text.toLowerCase().includes(t.toLowerCase())).slice(0,5);return _.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.jsxs("div",{ref:p,className:"relative "+o,children:[e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(J,{ref:u,type:"text",placeholder:l,value:t,onChange:e=>{a(e.target.value),i(!0),d(-1)},onFocus:()=>i(!0),onKeyDown:e=>{if(n)switch(e.key){case"ArrowDown":e.preventDefault(),d(e=>e<m.length-1?e+1:e);break;case"ArrowUp":e.preventDefault(),d(e=>e>0?e-1:-1);break;case"Enter":e.preventDefault(),0>c?s(t):(a(m[c].text),s(m[c].text)),i(!1);break;case"Escape":i(!1),u.current?.blur()}},className:"pl-10 pr-10"}),t&&e.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>{a(""),u.current?.focus()},children:e.jsx(q,{className:"h-4 w-4"})})]}),n&&m.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-md shadow-lg z-50 mt-1",children:m.map((t,r)=>e.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center justify-between transition-colors "+(r===c?"bg-gray-50":""),onClick:()=>(e=>{a(e.text),s(e.text),i(!1),u.current?.focus()})(t),children:[e.jsx("span",{children:t.text}),t.category&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:t.category})]},t.id))})]})},Na=[{value:"naturalne",label:"Naturaalne"},{value:"oranz",label:"Oranž"},{value:"pehme_kollane",label:"Pehme kollane"},{value:"punane",label:"Punane"},{value:"roosa",label:"Roosa"},{value:"royal_sinine",label:"Royal sinine"},{value:"taevasinine",label:"Taevasinine"},{value:"tume_roheline",label:"Tume roheline"},{value:"tume_sinine",label:"Tume sinine"},{value:"valge",label:"Valge"},{value:"granate",label:"Granate"},{value:"hall",label:"Hall"},{value:"hele_roheline",label:"Hele roheline"},{value:"kollane",label:"Kollane"},{value:"lilla",label:"Lilla"},{value:"must",label:"Must"}],_a="/assets/category-shoe-bags-CWmZxQpm.jpg",ka={"/riidest-kotid":"cotton_bag","/paberkotid":"paper_bag","/nooriga-kotid":"drawstring_bag","/sussikotid":"shoebag","/e-poe-pakendid":"packaging","/tooted":"all"},Sa=[H,V,B,F,z,W],Ca=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[t,a]=_.useState("all"),[s,r]=_.useState(""),[l,o]=_.useState([]),[n,i]=_.useState([]),[c,d]=_.useState(!0),[u,p]=_.useState(null),[m,h]=_.useState([]),[g,x]=_.useState("all"),[f,b]=_.useState("all"),[v,y]=_.useState("all"),[w,j]=_.useState("popular"),N=C(),[k,S]=_.useState([]),[P,I]=_.useState(!0),[E,T]=_.useState(""),[A,L]=_.useState(""),[O,q]=_.useState(!0),[H,V]=_.useState({}),[B,F]=_.useState(!0),[z,W]=_.useState({}),[Y,Z]=_.useState(!0),{data:J,isLoading:$,error:ee}=X({queryKey:["site-content"],queryFn:Q,staleTime:3e5});_.useEffect(()=>{(async()=>{Z(!0);try{const{data:e,error:t}=await D.from("website_content").select("key, value").eq("page","product_pages").like("key","%_faq_%");if(t)throw t;const a={};if(e){const t={cotton:"cotton_bag",paper:"paper_bag",drawstring:"drawstring_bag",shoebag:"shoebag",packaging:"packaging"};e.forEach(e=>{const s=e.key.split("_"),r=s[0],l=t[r]||r;let o,n;if(a[l]||(a[l]=[]),s.includes("faq")){const t=e.key.split("faq_");if(t[1]){const e=t[1].split("_");o=parseInt(e[0]),n=e[1]||e[0]}}else o=parseInt(s[1]),n=s[2];for(;a[l].length<=o;)a[l].push({question:"",answer:""});"question"===n||n.includes("question")?a[l][o].question=e.value:("answer"===n||n.includes("answer"))&&(a[l][o].answer=e.value)}),Object.keys(a).forEach(e=>{a[e]=a[e].filter(e=>e.question&&e.answer)})}W(a)}catch(e){}finally{Z(!1)}})()},[]);const{data:te,isLoading:ae}=X({queryKey:["featured-blog-posts"],queryFn:async()=>{const{data:e,error:t}=await D.from("featured_blog_posts").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},staleTime:3e5});_.useEffect(()=>{(async()=>{F(!0);const{data:e}=await D.from("website_content").select("key, value").eq("page","product_pages");if(e){const t={};e.forEach(e=>{const a=e.key.split("_"),s=a.pop(),r=a.join("_");t[r]||(t[r]={}),t[r][s]=e.value}),V(t)}F(!1)})()},[]);const se=J?{heading:J.tooted_page_heading,description:J.tooted_page_description,blog_section_title:J.tooted_blog_section_title}:null,re=J?[{id:"cotton_bag",name:"Riidest kotid",image:J.product_category_1_image,link:"/riidest-kotid"},{id:"paper_bag",name:"Paberkotid",image:J.product_category_2_image,link:"/paberkotid"},{id:"drawstring_bag",name:"Nööriga kotid",image:J.product_category_3_image,link:"/nooriga-kotid"},{id:"shoebag",name:"Sussikotid",image:J.product_category_4_image,link:"/sussikotid"}]:null;_.useEffect(()=>{(async()=>{try{d(!0);const e=await G();o(e),i(e);const t=(e=>{const t=[];return[...new Set(e.map(e=>e.material).filter(Boolean))].forEach(e=>{t.push({id:"material-"+e,text:e,category:"Materjal"})}),[...new Set(e.flatMap(e=>e.colors||[]))].forEach(e=>{t.push({id:"color-"+e,text:e,category:"Värv"})}),[...new Set(e.flatMap(e=>e.sizes||[]))].forEach(e=>{t.push({id:"size-"+e,text:e,category:"Suurus"})}),[...new Set(e.flatMap(e=>e.badges||[]))].forEach(e=>{t.push({id:"badge-"+e,text:e,category:"Märgis"})}),t})(e);h(t)}catch(e){p("Failed to fetch products. Please try again later.")}finally{d(!1)}})()},[]),_.useEffect(()=>{const e=N.pathname;a(ka[e]||"all")},[N.pathname]);const le=e=>{const t=Na.find(t=>t.value===e);return t?t.label:e},oe=()=>{const e="all"!==t?l.filter(e=>e.category===t):l;return{materials:[...new Set(e.map(e=>e.material).filter(Boolean))],colors:[...new Set(e.flatMap(e=>e.colors||[]))],sizes:[...new Set(e.flatMap(e=>e.sizes||[]))]}};_.useEffect(()=>{(()=>{let e=[...l];if("all"!==t&&(e=e.filter(e=>e.category===t)),g&&"all"!==g&&(e=e.filter(e=>e.material===g)),f&&"all"!==f&&(e=e.filter(e=>e.colors?.some(e=>e===f))),v&&"all"!==v&&(e=e.filter(e=>e.sizes?.includes(v))),""!==s.trim()){const t=s.toLowerCase();e=e.filter(e=>{const a=e.name.toLowerCase().includes(t),s=e.description.toLowerCase().includes(t),r=e.material?.toLowerCase().includes(t)||!1,l=e.colors?.some(e=>e.toLowerCase().includes(t))||!1,o=e.sizes?.some(e=>e.toLowerCase().includes(t))||!1,n=e.badges?.some(e=>e.toLowerCase().includes(t))||!1,i=e.model?.toLowerCase().includes(t)||!1,c=e.seo_keywords?.toLowerCase().includes(t)||!1;return a||s||r||l||o||n||i||c})}switch(w){case"price-low":e.sort((e,t)=>e.base_price-t.base_price);break;case"price-high":e.sort((e,t)=>t.base_price-e.base_price);break;case"name":e.sort((e,t)=>e.name.localeCompare(t.name));break;default:e.sort((e,t)=>(e.priority||50)-(t.priority||50))}i(e)})()},[t,s,g,f,v,w,l]),_.useEffect(()=>{(async()=>{I(!0);const{data:e,error:t}=await D.from("guarantees").select("*").order("order",{ascending:!0});S(e||[]),I(!1)})()},[]),_.useEffect(()=>{(async()=>{q(!0);const{data:e}=await D.from("website_content").select("key, value").eq("page","tooted").in("key",["guarantees_heading","guarantees_description"]);T(e?.find(e=>"guarantees_heading"===e.key)?.value||""),L(e?.find(e=>"guarantees_description"===e.key)?.value||""),q(!1)})()},[]);const ne=()=>"all"===t?[]:z[t]||[],ie=(e=>{const t=H[e]||{};return{title:t.title,description:t.description,highlight:t.highlight,seoTitle:t.seo_title,seoDescription:t.seo_description}})(t);if($||!se||!re)return e.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl text-gray-400",children:"Laadimine..."});if(c)return e.jsx("div",{className:"max-w-screen-2xl mx-auto w-full px-4 md:px-8 xl:px-20 py-16",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...[,,,,,,,,]].map((t,a)=>e.jsx("div",{className:"bg-gray-200 h-96 rounded"},a))})]})});if(u)return e.jsxs("div",{className:"max-w-screen-2xl mx-auto w-full px-4 md:px-8 xl:px-20 py-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Error"}),e.jsx("p",{className:"text-red-600 mb-8",children:u}),e.jsx(M,{onClick:()=>{window.location.reload()},children:"Try Again"})]});if("/tooted"===N.pathname){const t=se.heading||"Meie tooted",a=t.match(/(tooted?)/i);let s;if(a){const e=a[0];s=t.split(RegExp(`(${e})`,"i"))}else{const e=t.trim().split(" ");if(e.length>1){const a=e[e.length-1];s=[t.substring(0,t.lastIndexOf(a)),a,""]}else s=[t]}return e.jsxs("div",{className:"bg-gradient-to-b from-white to-gray-50 min-h-screen",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:e.jsx("div",{className:"mb-6",children:e.jsx(wa,{})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16 py-16",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 mb-6",children:3===s.length?e.jsxs(e.Fragment,{children:[s[0],e.jsx("span",{className:"text-primary",children:s[1]}),s[2]]}):1===s.length?t.toLowerCase().includes("tooted")?t.split(/(tooted)/i).map((t,a)=>"tooted"===t.toLowerCase()?e.jsx("span",{className:"text-primary",children:t},a):t):e.jsx("span",{className:"text-primary",children:t}):t}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:se.description})]}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Tootekategooriad"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:re.map(t=>{return e.jsxs(R,{to:t.link,className:"text-center group",children:[e.jsx("div",{className:"h-80 md:h-60 mb-4 overflow-hidden rounded-lg",children:e.jsx(K,{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-all group-hover:scale-105",fallbackSrc:(a=t.id,{cotton_bag:"/assets/category-cotton-bags-COgr_mul.jpg",paper_bag:"/assets/category-paper-bags-DsNlWv-4.jpg",drawstring_bag:"/assets/category-drawstring-bags-DSY7GZXk.jpg",shoebag:_a,packaging:_a}[a]||"/placeholder.svg"),width:400,height:300,priority:!1})}),e.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:t.name}),e.jsx(M,{variant:"link",className:"p-0",children:"Vaata tooteid"})]},t.id);var a})})]}),e.jsx("section",{className:"mb-16",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:O?"...":E}),e.jsx("p",{className:"text-gray-600 max-w-4xl mx-auto",children:O?"...":A})]}),P?e.jsx("div",{children:"Laen garantiiandmeid..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:k.map((t,a)=>{const s=Sa[a%Sa.length];return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-full flex-shrink-0",children:e.jsx(s,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]})]},t.id)})})]})}),e.jsxs("section",{className:"mb-16",children:[e.jsx("h2",{className:"text-2xl font-bold mb-8",children:se.blog_section_title}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:te&&te.length>0?te.map(t=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"h-48 overflow-hidden",children:e.jsx("img",{src:t.image_url,alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t.excerpt}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[t.read_time," lugemist"]}),e.jsx(M,{variant:"link",size:"sm",className:"p-0",children:"Loe edasi"})]})]})]},t.id)):e.jsx("div",{className:"col-span-3 text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"Blogi artikleid pole veel lisatud."})})})]})]})]})}const ce=ne();return e.jsxs(e.Fragment,{children:[e.jsx(ya,{faqs:ce,category:t}),e.jsxs("div",{className:"bg-gradient-to-b from-white to-gray-50 min-h-screen",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4",children:e.jsx("div",{className:"mb-6",children:e.jsx(wa,{})})}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16 py-8 md:py-16 px-6 sm:px-8 md:px-12",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 mb-6 leading-tight break-words",children:ie.highlight&&ie.title.includes(ie.highlight)?e.jsxs(e.Fragment,{children:[ie.title.split(ie.highlight)[0],e.jsx("span",{className:"text-primary",children:ie.highlight}),ie.title.split(ie.highlight)[1]]}):ie.title}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-gray-600 max-w-none sm:max-w-2xl md:max-w-3xl mx-auto leading-relaxed",children:ie.description})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6 mx-6 sm:mx-8 md:mx-12",children:e.jsx("div",{className:"w-full md:w-auto",children:e.jsx(ja,{value:s,onChange:r,onSubmit:e=>r(e),suggestions:m,placeholder:"Otsi tooteid...",className:"w-full"})})}),e.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-sm border border-gray-100 mb-10 mx-6 sm:mx-8 md:mx-12",children:[("all"!==g||"all"!==f||"all"!==v||s)&&e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsx(M,{variant:"ghost",size:"sm",onClick:()=>{r(""),x("all"),b("all"),y("all"),j("popular")},className:"text-primary hover:text-primary/80 hover:bg-primary/5 font-medium",children:"✕ Tühjenda filtrid"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-primary rounded-full"}),"Materjal"]}),e.jsxs(gt,{value:g,onValueChange:x,children:[e.jsx(ft,{className:"w-full border-gray-200 hover:border-gray-300 focus:border-primary transition-colors bg-gray-50/50 hover:bg-white",children:e.jsx(xt,{placeholder:"Kõik materjalid",children:"all"===g?"Kõik materjalid":g})}),e.jsxs(yt,{className:"bg-white border-gray-200 shadow-lg",children:[e.jsx(wt,{value:"all",className:"hover:bg-gray-50",children:"Kõik materjalid"}),oe().materials.map(t=>e.jsx(wt,{value:t,className:"hover:bg-gray-50",children:t},t))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-primary rounded-full"}),"Värv"]}),e.jsxs(gt,{value:f,onValueChange:b,children:[e.jsx(ft,{className:"w-full border-gray-200 hover:border-gray-300 focus:border-primary transition-colors bg-gray-50/50 hover:bg-white",children:e.jsx(xt,{placeholder:"Kõik värvid",children:"all"===f?"Kõik värvid":le(f)})}),e.jsxs(yt,{className:"bg-white border-gray-200 shadow-lg",children:[e.jsx(wt,{value:"all",className:"hover:bg-gray-50",children:"Kõik värvid"}),oe().colors.map(t=>e.jsx(wt,{value:t,className:"hover:bg-gray-50",children:le(t)},t))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-primary rounded-full"}),"Suurus"]}),e.jsxs(gt,{value:v,onValueChange:y,children:[e.jsx(ft,{className:"w-full border-gray-200 hover:border-gray-300 focus:border-primary transition-colors bg-gray-50/50 hover:bg-white",children:e.jsx(xt,{placeholder:"Kõik suurused",children:"all"===v?"Kõik suurused":v})}),e.jsxs(yt,{className:"bg-white border-gray-200 shadow-lg",children:[e.jsx(wt,{value:"all",className:"hover:bg-gray-50",children:"Kõik suurused"}),oe().sizes.map(t=>e.jsx(wt,{value:t,className:"hover:bg-gray-50",children:t},t))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-800 flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-primary rounded-full"}),"Sorteeri"]}),e.jsxs(gt,{value:w,onValueChange:j,children:[e.jsx(ft,{className:"w-full border-gray-200 hover:border-gray-300 focus:border-primary transition-colors bg-gray-50/50 hover:bg-white",children:e.jsx(xt,{})}),e.jsxs(yt,{className:"bg-white border-gray-200 shadow-lg",children:[e.jsx(wt,{value:"popular",className:"hover:bg-gray-50",children:"Populaarsed"}),e.jsx(wt,{value:"price-low",className:"hover:bg-gray-50",children:"Hind: madalast kõrgeni"}),e.jsx(wt,{value:"price-high",className:"hover:bg-gray-50",children:"Hind: kõrgest madalani"}),e.jsx(wt,{value:"name",className:"hover:bg-gray-50",children:"Nimi: A-Ž"})]})]})]})]})]}),e.jsx("div",{className:"px-6 sm:px-8 md:px-12",children:n.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"mb-6",children:["Leitud ",n.length," toodet"]}),e.jsx(U,{products:n})]}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Tooteid ei leitud"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Proovige muuta otsingufiltrit või sirvige kõiki tooteid"}),e.jsx(M,{onClick:()=>{r(""),window.location.href="/tooted"},children:"Näita kõiki tooteid"})]})}),"all"!==t&&e.jsx("section",{className:"mt-20 mb-16",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Korduma kippuvad küsimused"}),Y?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(t=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-16 bg-gray-100 rounded w-full"})]},t))}):e.jsx(e.Fragment,{children:ne().length>0?e.jsx(xa,{type:"single",collapsible:!0,className:"w-full",children:ne().map((t,a)=>e.jsxs(fa,{value:"item-"+a,children:[e.jsx(ba,{className:"text-left",children:t.question}),e.jsx(va,{className:"text-gray-600",children:t.answer})]},a))}):e.jsx("p",{className:"text-center text-gray-500",children:"Sellele kategooriale pole veel KKK-sid lisatud."})})]})}),e.jsx("section",{className:"mt-20 mb-16",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:O?"...":E}),e.jsx("p",{className:"text-gray-600 max-w-4xl mx-auto",children:O?"...":A})]}),P?e.jsx("div",{children:"Laen garantiiandmeid..."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:k.map((t,a)=>{const s=Sa[a%Sa.length];return e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-full flex-shrink-0",children:e.jsx(s,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]})]},t.id)})})]})})]})]})]})}},Symbol.toStringTag,{value:"Module"}));export{xa as A,wa as B,J as I,Na as P,Z as R,gt as S,fa as a,ba as b,va as c,ft as d,xt as e,yt as f,wt as g,Ca as h,ee as u};
